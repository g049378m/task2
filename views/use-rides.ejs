<%- include("partials/header") %>
  <%- include("partials/nav") %>

    <h2>Use Fast-Track Rides</h2>

    <p><strong>Visit Date:</strong>
      <%= ticket.visitDate %>
    </p>

    <% if (ticket.fastTrackRides.length===0) { %>
      <p>No fast-track rides left to use.</p>
      <% } else { %>
        <h3>Available Fast-Track Rides</h3>

        <% if (ticket.fastTrackRides.length> 0) { %>
          <div style="margin-bottom: 1rem;">
            <% ticket.fastTrackRides.forEach((ride)=> { %>
              <form method="post" action="/tickets/<%= ticket._id %>/use-ride" class="ride-form">
                <strong>
                  <%= ride.name %>
                </strong>
                <input type="hidden" name="rideName" value="<%= ride.name %>">
                <button type="submit">Use Now</button>
              </form>
              <% }) %>
          </div>
          <% } else { %>
            <p>No fast-track rides left to use.</p>
            <% } %>
              <% } %>

                <hr>
                <p><strong>Used Fast-Track Rides:</strong></p>
                <% if (ticket.usedFastTrackRides.length===0) { %>
                  <p>None used yet.</p>
                  <% } else { %>
                    <ul>
                      <% ticket.usedFastTrackRides.forEach((rideName)=> { %>
                        <li>
                          <%= rideName %>
                        </li>
                        <% }) %>
                    </ul>
                    <% } %>

                      <%- include("partials/footer") %>